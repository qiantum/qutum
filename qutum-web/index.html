<!doctype html>
<!--
//
// Qutum 10 implementation
// Copyright 2008-2011 Qianyan Cai
// Under the terms of the GNU General Public License version 3
// http://qutum.com
//
-->
<html>
<head>
<meta charset=UTF-8>
<title>Qutum 10</title>
<script src=util.js></script>
<script src=edit.js></script>
<script src=datum.js></script>
<script src=row.js></script>
<script src=wire.js></script>
<script src=command.js></script>
<script src=layer2.js></script>
<script src=toolbar.js></script>
</head>
<body class='split1'>

<div id='left'>
<div id='banner'>
	Qutum 10 Editor
	<a href='http://qutum.com' target=_blank><img src='http://qutum.com/qutum.png'></a>
</div>
<div id='zonest'>
	<div>Zonest List</div>
	<div>Zonest List</div>
	<div>Zonest List</div>
	<div class='active'>Zonest List</div>
	<div>Zonest List</div>
	<div>Zonest List</div>
	<div>Zonest List</div>
	<div>Zonest List</div>
	<div>Zonest List</div>
	<div>Zonest List</div>
	<div>Zonest List</div>
	<div>Zonest List</div>
</div>
</div>

<div id='right'>
<div id='split'><div></div></div>
<div>
<div id='tools1'></div><div id='tools2'></div>
<div id='edit'></div>
</div>
</div>

<script>
onload = function () // TODO wait for scripts only
{
	var edit, tool
	function newEdit()
	{
		edit = new Edit(byId('edit'))
		setTimeout(function () { edit.dom.focus() }, 0)

		tool || setInterval(function () { tool() }, 200)
		tool = Toolbar(edit, byId('tools1'), byId('tools2'))
	}
	newEdit()

	var split = byId('split')
	split.firstChild.onclick = function ()
	{
		document.body.className = document.body.className.replace
			(/[0-9]/, function (i) { return (+i + 2) % 3 })
	}

	function byId (x)
	{
		return document.getElementById(x)
	}
}
</script>

<style>
html, body { width:100%; height:100%; padding:0; margin:0; overflow:hidden }
body { font:16px Times,serif }
div { position:relative }
img { border:0 }

#left, #right
{
	position:absolute; height:100%;
	box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;
	transition:all 0.5s ease;-webkit-transition:all 0.5s ease;
	-moz-transition:all 0.5s ease;-o-transition:all 0.5s ease;
}
body.split0 #left { width:1% }
body.split0 #right { width:100% }
body.split1 #left { width:16% }
body.split1 #right { left:16%; width:84% }
body.split2 #left { width:32% }
body.split2 #right { left:32%; width:68% }

#left { overflow:hidden }
#banner { min-width:150px; height:24px; padding:3px; line-height:24px; background:#dae0ff }
	#banner img { float:right; width:24px; height:24px; vertical-align:middle }
#zonest { min-width:150px; top:2em; padding-bottom:2em }
	#zonest > div
	{
		line-height:1.5em; padding:0 1ex
	}
	#zonest > div:nth-child(odd) { background:#f2f2f2 }
	#zonest > div:nth-child(even) { background:#f9f9f9 }
	#zonest > div:hover, #zonest > div.active:hover
	{
		background:linear-gradient(top,#f2f5ff,#d1daff 50%,#c3cfff 50%,#e0e6ff);
		background:-moz-linear-gradient(top,#f2f5ff,#d1daff 50%,#c3cfff 50%,#e0e6ff);
		background:-webkit-gradient(linear,left top,left bottom,
			color-stop(0,#f2f5ff),color-stop(0.5,#d1daff),
			color-stop(0.5,#c3cfff),color-stop(1,#e0e6ff));
	}
	#zonest > div.active
	{
		background:linear-gradient(top,#e8edff,#bdcaff 50%,#aabfff 50%,#c7d2ff);
		background:-moz-linear-gradient(top,#e8edff,#bdcaff 50%,#aabfff 50%,#c7d2ff);
		background:-webkit-gradient(linear,left top,left bottom,
			color-stop(0,#e8edff),color-stop(0.5,#bdcaff),
			color-stop(0.5,#aabfff),color-stop(1,#c7d2ff));
	}

#right { padding-left:3px }
#split { left:0; width:3px; height:100%; position:absolute; background:rgb(191,204,255) }
	#split div
	{
		width:9px; height:24px; left:2px; top:48%;
		border-radius:0 4px 4px 0;-moz-border-radius:0 5px 5px 0;
		background:linear-gradient(right,#e8edff,#bdcaff 50%,#a3b7ff 50%,#c7d2ff);
		background:-moz-linear-gradient(right,#e8edff,#bdcaff 50%,#a3b7ff 50%,#c7d2ff);
		background:-webkit-gradient(linear,right top,left top,
			color-stop(0,#e8edff),color-stop(0.5,#bdcaff),
			color-stop(0.5,#a3b7ff),color-stop(1,#c7d2ff));
		opacity:0.7; z-index:20;
	}
	#split div:hover { opacity:1 }
	body:not(.split0) #split { background:rgba(191,204,255,0.6) }
	body:not(.split0) #split div
	{
		transform:scale(-1); transform-origin:0;
		-webkit-transform:scale(-1); -webkit-transform-origin:0;
		-moz-transform:scale(-1); -moz-transform-origin:0;
		-o-transform:scale(-1); -o-transform-origin:0;
		opacity:0.6;
	}
	body:not(.split0) #split div:hover { opacity:0.8 }
#split + div
{
	width:100%; height:100%; overflow:hidden;
	box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;
	padding:30px 2px 2px 30px;
}

#edit
{
	left:0; top:0; width:100%; height:100%; overflow:scroll;
	user-select:none;-webkit-user-select:none;
}
#edit:focus { outline:0; box-shadow:0 0 5px #03f;-webkit-box-shadow:0 0 5px #03f }
@-moz-document url-prefix() { #edit:focus { outline:2px solid #abf } /* shadow slows Firefox canvas */ }
#edit .whole { position:absolute }
#edit * { font:15px Times,serif }
#edit input
{
	user-select:text;-webkit-user-select:text;
	position:relative; left:-3px; top:-4px; margin:0; padding:2px;
	border-radius:2px;-moz-border-radius:2px; border:0; outline:0;
}
#edit input.input { box-shadow:0 0 6px #608;-webkit-box-shadow:0 0 6px #608;-moz-box-shadow:0 0 7px #608; }
#edit input.datum { box-shadow:0 0 6px #080;-webkit-box-shadow:0 0 6px #080;-moz-box-shadow:0 0 7px #080; }
#edit input.output { box-shadow:0 0 6px #059;-webkit-box-shadow:0 0 6px #059;-moz-box-shadow:0 0 7px #059; }
@-moz-document url-prefix() { #edit input { left:-2.5px; top:-2px } }
#edit .err
{
	white-space:pre; padding:3px; color:#700; background: rgba(255,240,240,0.8);
	border:1px solid red; border-radius:5px;-moz-border-radius:5px;
	box-shadow:0 0 6px red;-webkit-box-shadow:0 0 6px red;-moz-box-shadow:0 0 7px red;
}

#tools1
{
	width:100%; height:28px; white-space:nowrap; z-index:2;
	background:linear-gradient(top,#f7f7f7,#e9e9e9 50%,#dfdfdf 50%,#eee);
	background:-moz-linear-gradient(top,#f7f7f7,#e9e9e9 50%,#dfdfdf 50%,#eee);
	background:-webkit-gradient(linear,left top,left bottom,
		color-stop(0,#f7f7f7),color-stop(0.5,#e9e9e9),
		color-stop(0.5,#dfdfdf),color-stop(1,#eee));
	user-select:none;-moz-user-select:none;-webkit-user-select:none;
}
#tools2
{
	width:28px; height:100%;
	background:linear-gradient(left,#f7f7f7 0,#e9e9e9 50%,#dfdfdf 50%,#eee 100%);
	background:-moz-linear-gradient(left,#f7f7f7 0,#e9e9e9 50%,#dfdfdf 50%,#eee 100%);
	background:-webkit-gradient(linear,left top,right top,
		color-stop(0,#f7f7f7),color-stop(0.5,#e9e9e9),
		color-stop(0.5,#dfdfdf),color-stop(1,#eee));
	user-select:none;-moz-user-select:none;-webkit-user-select:none;
}
	#tools1, #tools2 { left:0; top:0; position:absolute; }
	#tools1 > a:first-child { margin-left:30px }
	#tools2 > a:first-child { margin-top:30px }
	#tools1 > span { margin-left:1ex }
	#tools2 > span { display:block; height:1ex }
	#tools1 > a[disabled], #tools2 > a[disabled] { color:gray }
	#tools1 > a, #tools2 > a
	{
		display:inline-block; position:relative; cursor:default; outline:0;
		width:28px; line-height:28px; text-align:center;
	}
	#tools1 > a:hover
	{
		background:linear-gradient(top,#f2f5ff,#d1daff 50%,#bdcaff 50%,#e0e6ff);
		background:-moz-linear-gradient(top,#f2f5ff,#d1daff 50%,#bdcaff 50%,#e0e6ff);
		background:-webkit-gradient(linear,left top,left bottom,
			color-stop(0,#f2f5ff),color-stop(0.5,#d1daff),
			color-stop(0.5,#bdcaff),color-stop(1,#e0e6ff));
	}
	#tools1 > a:active
	{
		background:linear-gradient(top,#e8edff,#bdcaff 50%,#a3b7ff 50%,#c7d2ff);
		background:-moz-linear-gradient(top,#e8edff,#bdcaff 50%,#a3b7ff 50%,#c7d2ff);
		background:-webkit-gradient(linear,left top,left bottom,
			color-stop(0,#e8edff),color-stop(0.5,#bdcaff),
			color-stop(0.5,#a3b7ff),color-stop(1,#c7d2ff));
	}
	#tools2 > a:hover
	{
		background:linear-gradient(left,#f2f5ff,#d1daff 50%,#bdcaff 50%,#e0e6ff);
		background:-moz-linear-gradient(left,#f2f5ff,#d1daff 50%,#bdcaff 50%,#e0e6ff);
		background:-webkit-gradient(linear,left top,right top,
			color-stop(0,#f2f5ff),color-stop(0.5,#d1daff),
			color-stop(0.5,#bdcaff),color-stop(1,#e0e6ff));
	}
	#tools2 > a:active
	{
		background:linear-gradient(left,#e8edff,#bdcaff 50%,#a3b7ff 50%,#c7d2ff);
		background:-moz-linear-gradient(left,#e8edff,#bdcaff 50%,#a3b7ff 50%,#c7d2ff);
		background:-webkit-gradient(linear,left top,right top,
			color-stop(0,#e8edff),color-stop(0.5,#bdcaff),
			color-stop(0.5,#a3b7ff),color-stop(1,#c7d2ff));
	}
	#tools1 > a > div, #tools2 > a > div
	{
		position:absolute; padding:0.5ex 1ex;
		white-space:nowrap; text-align:left; line-height:1.2em;
		background:#fff3f0; text-shadow:0 0 4px #986;
		box-shadow:0 0 6px #986;-webkit-box-shadow:0 0 6px #986;-moz-box-shadow:0 0 7px #986;
		visibility:hidden; opacity:0; z-index:10;
	}
	#tools2 > a > div { left:100%; top:0 }
	#tools1 > a:hover > div:not(:hover), #tools2 > a:hover > div:not(:hover)
	{
		visibility:visible; opacity:0.9;
		transition:opacity 1s cubic-bezier(0.6,0,0,0.8);
		-webkit-transition:opacity 1s cubic-bezier(0.6,0,0,0.8);
		-moz-transition:opacity 1s cubic-bezier(0.6,0,0,0.8);
	}

#Log
{
	position:fixed; right:0; bottom:0; max-width:40em; max-height:20em; overflow:scroll;
	padding:1ex; border:1px solid #99f; background:rgba(192,192,255,0.6);
}
#Log .line { white-space:nowrap; min-height:1ex }
#Log .err { color:red }
</style>
</body>
</html>
